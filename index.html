<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>⚔ Samurai Pool ⚔</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>⚔</text></svg>">
</head>
<body>
  <div id="game-container">
    <!-- WebGL Canvas -->
    <canvas id="game-canvas"></canvas>
    
    <!-- Weapon Canvas (overlay) -->
    <canvas id="weapon-canvas"></canvas>
    
    <!-- HUD -->
    <div id="hud">
      <!-- Здоровье -->
      <div id="health">
        <div id="health-label">ЗДОРОВЬЕ</div>
        <span id="health-value">100</span>
      </div>
      
      <!-- FPS (всегда виден) -->
      <div id="fps-display"><span id="fps-live">60</span> FPS</div>
      
      <!-- Враги -->
      <div id="ammo">
        <div id="ammo-label">ВРАГИ</div>
        <span id="ammo-value">⚔ 0</span>
      </div>
      
      <!-- Счёт -->
      <div id="frags">
        <div id="frags-label">СЧЁТ</div>
        <span id="frags-value">0</span>
      </div>
      
      <!-- Прицел -->
      <div id="crosshair"></div>
      
      <!-- Хитмаркер -->
      <div id="hitmarker"></div>
      
      <!-- Индикатор перезарядки -->
      <div id="reload-indicator" style="display: none;"></div>
      
      <!-- Эффект урона -->
      <div id="damage-overlay"></div>
      
      <!-- Overlay паузы (при потере фокуса) -->
      <div id="pause-overlay" style="display: none;" onclick="window.game?.hidePauseOverlay?.()">
        <div class="pause-content">
          <div class="pause-icon">⏸</div>
          <div class="pause-text">ПАУЗА</div>
          <div class="pause-hint">КЛИКНИТЕ ИЛИ НАЖМИТЕ ЛЮБУЮ КЛАВИШУ</div>
        </div>
      </div>
    </div>
    
    <!-- Стартовый экран -->
    <div id="click-to-start">
      <h1>⚔ SAMURAI POOL ⚔</h1>
      <p>Руби врагов катаной!</p>
      
      <!-- Кнопки старта -->
      <div id="start-buttons">
        <button id="btn-start" class="start-btn">НАЧАТЬ</button>
        <div id="menu-buttons">
          <button id="btn-settings" class="menu-btn">⚙ НАСТРОЙКИ</button>
          <button id="btn-help" class="menu-btn">? УПРАВЛЕНИЕ</button>
        </div>
        <div id="boss-buttons">
          <button id="btn-boss5" class="boss-btn green">ВОЛНА 5</button>
          <button id="btn-boss10" class="boss-btn purple">ВОЛНА 10</button>
          <button id="btn-boss15" class="boss-btn blue">ВОЛНА 15</button>
        </div>
      </div>
    </div>
    
    <!-- Модалка настроек -->
    <div id="modal-settings" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <span class="modal-title">НАСТРОЙКИ</span>
          <button class="modal-close" data-modal="modal-settings">✕</button>
        </div>
        <div class="modal-body">
          <div class="setting">
            <label>ГРОМКОСТЬ</label>
            <input type="range" id="volume-slider" min="0" max="100" value="50">
            <span id="volume-value">50%</span>
          </div>
          <div class="setting">
            <label>ЧУВСТВИТЕЛЬНОСТЬ</label>
            <input type="range" id="sens-slider" min="1" max="100" value="50">
            <span id="sens-value">50%</span>
          </div>
                  <div class="settings-divider">ГРАФИКА</div>
                  <div class="setting">
                    <label>КАЧЕСТВО</label>
                    <select id="quality-select">
                      <option value="ultra_low">МИНИМУМ (426×240)</option>
                      <option value="low" selected>НИЗКОЕ (640×360)</option>
                      <option value="medium">СРЕДНЕЕ (854×480)</option>
                      <option value="high">ВЫСОКОЕ (1280×720)</option>
                    </select>
                  </div>
                  <div class="setting checkbox-setting">
                    <label>ТЕНИ</label>
                    <input type="checkbox" id="shadows-toggle" checked>
                  </div>
                  <div class="setting checkbox-setting">
                    <label>ПОСТЭФФЕКТЫ</label>
                    <input type="checkbox" id="postfx-toggle" checked>
                  </div>
                  <div class="setting checkbox-setting">
                    <label>КАТАНА 3D</label>
                    <input type="checkbox" id="katana-toggle" checked>
                  </div>
                  <div class="setting checkbox-setting turbo-setting">
                    <label>⚡ ТУРБО</label>
                    <input type="checkbox" id="turbo-toggle">
                  </div>
                  <div id="fps-counter">FPS: <span id="fps-value">60</span></div>
        </div>
      </div>
    </div>
    
    <!-- Модалка управления -->
    <div id="modal-help" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <span class="modal-title">УПРАВЛЕНИЕ</span>
          <button class="modal-close" data-modal="modal-help">✕</button>
        </div>
        <div class="modal-body">
          <div id="controls-list">
            <div class="control-row"><span>WASD</span><span>движение</span></div>
            <div class="control-row"><span>SHIFT</span><span>бег</span></div>
            <div class="control-row"><span>SPACE</span><span>прыжок (2x = двойной)</span></div>
            <div class="control-row"><span>LMB</span><span>удар катаной</span></div>
            <div class="control-row"><span>F</span><span>полный экран</span></div>
            <div class="control-row"><span>M</span><span>звук вкл/выкл</span></div>
            <div class="control-row"><span>ESC</span><span>пауза</span></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script type="module" src="/src/main.ts"></script>
</body>
</html>
